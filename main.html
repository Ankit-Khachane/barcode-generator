<!DOCTYPE html>
<html>
<head>
    <title>Barcode Carousel</title>
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
    <style>
        .carousel {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 80%;
            margin: 0 auto;
        }

        .barcode {
            display: inline-block;
        }
    </style>
</head>
<body>
    <h1>Barcode Carousel</h1>
    <div>
        <label for="barcodeData">Enter text values (one per line):</label><br>
        <textarea id="barcodeData" rows="5" cols="40"></textarea><br>
        <button onclick="generateBarcodes()">Generate Barcodes</button>
    </div>
    <div class="carousel">
        <button id="prev" onclick="navigate(-1)">Previous</button>
        <svg  class="barcode" id="barcodeContainer" style="width: fit-content; height: fit-content;"></svg>
        <button id="next" onclick="navigate(1)">Next</button>
    </div>

    <script>
        const barcodeDataInput = document.getElementById("barcodeData");
        const barcodeContainer = document.getElementById("barcodeContainer");
        const prevButton = document.getElementById("prev");
        const nextButton = document.getElementById("next");
        const barcodes = [];
        let currentIndex = 0;

        function generateBarcode(text) {
            barcodeContainer.innerHTML = "";
            JsBarcode(barcodeContainer, text, { format: "CODE128" });
        }

        function generateBarcodes() {
            const inputText = barcodeDataInput.value;
            const lines = inputText.split("\n").map(line => line.trim());
            barcodes.length = 0;

            for (const line of lines) {
                if (line) {
                    const barcode = JsBarcode.getModule("CODE128", line);
                    barcodes.push({ text: line, barcode });
                }
            }

            currentIndex = 0;
            if (barcodes.length > 0) {
                generateBarcode(barcodes[currentIndex].text);
            }
        }

        function navigate(offset) {
            currentIndex += offset;

            if (currentIndex < 0) {
                currentIndex = 0;
            } else if (currentIndex >= barcodes.length) {
                currentIndex = barcodes.length - 1;
            }

            generateBarcode(barcodes[currentIndex].text);
        }

        // Keyboard navigation
        document.addEventListener("keydown", (event) => {
            if (event.key === "ArrowLeft") {
                navigate(-1);
            } else if (event.key === "ArrowRight") {
                navigate(1);
            }
        });
    </script>
</body>
</html>
